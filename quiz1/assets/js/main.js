(function(){const n=document.querySelectorAll('.navbar .nav-link[data-route]'),t=window.location.pathname.replace(/\/index\.html$/,'').replace(/\/$/,'')||'/';n.forEach(e=>{const a=e.getAttribute('data-route');t===a&&(e.classList.add('active'),e.setAttribute('aria-current','page'))});const o=document.getElementById('backToTop');function c(){o&&(window.scrollY>300?o.classList.add('show'):o.classList.remove('show'))}c(),window.addEventListener('scroll',c),o&&o.addEventListener('click',()=>window.scrollTo({top:0,behavior:'smooth'}));document.addEventListener('click',e=>{const a=e.target.closest('img[data-lightbox]');if(!a)return;const d=document.getElementById('imgModalImg'),s=document.getElementById('imgModal');d.src=a.getAttribute('src'),d.alt=a.getAttribute('alt')||'Image preview',bootstrap.Modal.getOrCreateInstance(s).show();});})();